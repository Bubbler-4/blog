---
title: "BOJ 22201 ~ 22205 Tiny"
date: 2023-02-13T15:49:31+09:00
draft: true
tags: ["PS", "BOJ"]
---

이 포스트에서는 {{<boj 22201 "Tiny - 1">}}부터 {{<boj 22205 "Tiny - 5">}}까지의 문제의 접근 방법과 풀이를 다룹니다.

<!--more-->

## 문제 개요

기본적으로 테트리스 게임의 변형입니다.

* $9 \times 9$ 격자 공간(이하 "필드")에서 진행되는 게임입니다.
* 플레이어는 단위 정사각형 (이하 "블록") 1~3개가 연결된 폴리오미노(이하 "미노")를 주어진 순서대로 필드에 놓습니다.
* 이때 플레이어는 미노의 가로 좌표만 조종할 수 있고, 이 미노는 그 위치에서 아래로 한 칸씩 내려가다가 더 이상 내려갈 수 없으면 그 자리에 고정됩니다.
* 미노가 고정되고 나서 어떤 가로줄 전체가 블록으로 꽉 차 있다면, 그 가로줄은 지워지고 그 위에 있던 미노들이 아래로 이동합니다.
* 미노가 고정되었을 때 필드의 범위를 벗어났다면 게임 오버입니다.
* 미노의 목록은 모두 정해져 있으며(입력 파일), 입력으로 주어진 모든 미노를 사용하여 끝까지 살아남는 것이 최종 목표입니다.

테트리스를 잘 모르는 분들은 {{<boj 27321 "UMR의 테트리스 플레이 분석하기">}}의 설명과 예제 그림을 참조하세요.

테트리스와 다른 점은 다음과 같습니다.

* 테트리스에서는 미노를 회전할 수 있지만, Tiny에서는 회전할 수 없습니다. 따라서 일자 미노가 가로로 나오면 가로로, 세로로 나오면 세로로 놓아야 합니다.
* 테트리스에서는 주어진 미노를 아래와 좌우로 움직여 원하는 곳에 넣을 수 있지만, Tiny에서는 가로 위치를 지정하면 그 자리에서 수직으로 떨어지고 더 이상 조작할 수 없습니다. 예를 들어 9번 다음에 3번이 나오면, 9번의 왼쪽 아래 빈 공간에 3번을 끼울 수 없습니다.

{{<figure src="/images/boj/22201.png" caption="Tiny의 폴리오미노의 종류" align="center" >}}

## 관련 정보

테트리스와 관련해서 다음의 문제들이 NP-complete 또는 NP-hard임이 증명되어 있습니다. 모든 문제에 대해서 $p$개의 미노의 목록이 입력으로 주어지고, 플레이어에게 공개되어 있다고 가정합니다. (Source: [isnphard.com](https://www.isnphard.com/i/tetris/))

다음의 문제들은 모두 NP-hard입니다.

* 지운 가로줄 수를 최대화하는 문제, 그리고 이 문제를 아무 상수 $\epsilon > 0$에 대해 $p^{1-\epsilon}$배수 이내로 근사하는 문제
* 죽지 않고 놓은 미노의 수를 최대화하는 문제, 그리고 이 문제를 아무 상수 $\epsilon > 0$에 대해 $p^{1-\epsilon}$배수 이내로 근사하는 문제
* "테트리스"(4줄을 한 번에 지우는 것)의 횟수를 최대화하는 문제
* 플레이하는 동안 놓은 블록의 최대 높이를 최소화하는 문제, 그리고 이 문제를 아무 상수 $\epsilon > 0$에 대해 $2-\epsilon$배수 이내로 근사하는 문제

테트로미노를 더 작은 미노로 치환하더라도 다음의 문제들은 NP-complete입니다.

* 트로미노(블록 3개짜리 미노)를 사용할 경우, $p$개의 미노를 모두 사용해서 생존이 가능한지 묻는 문제(생존 문제)와 "퍼펙트 클리어"(필드에 블록이 전혀 없는 상태로 돌아오는 것)가 가능한지 묻는 문제(클리어 문제). 미노의 회전이 허용된 경우와 아닌 경우 모두 해당됩니다.
* 도미노(블록 2개짜리 미노)를 사용할 경우, 회전이 금지되었을 때의 생존 문제와 클리어 문제.

## 그래서 이게 풀리나요?

그러게요. 제가 풀어서 이 글을 쓰고 있으니까, 풀리긴 풀리겠죠? (...)

### Tiny - 1

1번 문제의 입력을 먼저 봅시다. 